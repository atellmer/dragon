{"version":3,"file":"react-cool-draggable.production.min.js","mappings":"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","sources":["webpack://ReactCoolDraggable/webpack/universalModuleDefinition","webpack://ReactCoolDraggable/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactCoolDraggable/webpack/bootstrap","webpack://ReactCoolDraggable/webpack/runtime/compat get default export","webpack://ReactCoolDraggable/webpack/runtime/define property getters","webpack://ReactCoolDraggable/webpack/runtime/hasOwnProperty shorthand","webpack://ReactCoolDraggable/webpack/runtime/make namespace object","webpack://ReactCoolDraggable/./src/context.tsx","webpack://ReactCoolDraggable/./src/utils.ts","webpack://ReactCoolDraggable/./src/droppable.tsx","webpack://ReactCoolDraggable/./src/draggable.tsx","webpack://ReactCoolDraggable/./src/methods.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReactCoolDraggable\", [\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCoolDraggable\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCoolDraggable\"] = factory(root[\"React\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__787__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useReducer, createContext, useMemo, useContext } from 'react';\r\n\r\nimport type { ID } from './types';\r\n\r\nexport type DragDropContextProps = {\r\n  onDragEnd: (options: OnDragEndOptions) => void;\r\n  children: React.ReactNode;\r\n};\r\n\r\nconst DragDropContext: React.FC<DragDropContextProps> = props => {\r\n  const { children, onDragEnd } = props;\r\n  const contextID = useMemo(() => getNextContextID(), []);\r\n  const [state, dispatch] = useReducer(reducer, inititalState);\r\n  const mergeState = (value: Partial<ContextState>) => dispatch({ value });\r\n  const resetState = () => {\r\n    state.onComplete();\r\n    mergeState({\r\n      isDragging: false,\r\n      activeDroppableID: null,\r\n      activeDraggableID: null,\r\n      nodeWidth: null,\r\n      nodeHeight: null,\r\n      scrollContainer: null,\r\n      unsubscribers: [],\r\n      onComplete: null,\r\n      onInsertPlaceholder: null,\r\n    });\r\n  };\r\n  const value = useMemo(() => {\r\n    state.contextID = contextID;\r\n\r\n    return {\r\n      state,\r\n      mergeState,\r\n      resetState,\r\n      onDragEnd,\r\n    };\r\n  }, [state, onDragEnd]);\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>;\r\n};\r\n\r\nexport type DragDropContextValue = {\r\n  state: ContextState;\r\n  mergeState: (state: Partial<ContextState>) => void;\r\n  resetState: () => void;\r\n  onDragEnd: (options: OnDragEndOptions) => void;\r\n};\r\n\r\ntype ContextState = {\r\n  isDragging: boolean;\r\n  contextID: number;\r\n  activeDroppableID: ID;\r\n  activeDroppableGroupID: ID;\r\n  activeDraggableID: ID;\r\n  nodeWidth: number;\r\n  nodeHeight: number;\r\n  scrollContainer: HTMLElement;\r\n  unsubscribers: Array<() => void>;\r\n  onComplete: () => void;\r\n  onInsertPlaceholder: () => void;\r\n};\r\n\r\nconst Context = createContext<DragDropContextValue>(null);\r\n\r\nconst inititalState: ContextState = {\r\n  isDragging: false,\r\n  contextID: null,\r\n  activeDroppableID: null,\r\n  activeDroppableGroupID: null,\r\n  activeDraggableID: null,\r\n  nodeWidth: null,\r\n  nodeHeight: null,\r\n  scrollContainer: null,\r\n  unsubscribers: [],\r\n  onComplete: null,\r\n  onInsertPlaceholder: null,\r\n};\r\n\r\nlet nextContextID = 0;\r\n\r\nfunction getNextContextID() {\r\n  return ++nextContextID;\r\n}\r\n\r\nfunction reducer(state: ContextState, action: { value: Partial<ContextState> }) {\r\n  return {\r\n    ...state,\r\n    ...action.value,\r\n  };\r\n}\r\n\r\nfunction useDragDropContext() {\r\n  const value = useContext(Context);\r\n\r\n  return value;\r\n}\r\n\r\nexport type OnDragEndOptions = {\r\n  draggableID: ID;\r\n  droppableID: ID;\r\n  droppableGroupID: ID;\r\n  sourceIdx: number;\r\n  destinationIdx: number;\r\n  isMoving: boolean;\r\n  targetNode: HTMLElement;\r\n};\r\n\r\nexport { DragDropContext, useDragDropContext };\r\n","import type { ID, Pointer } from './types';\r\n\r\nconst CONTEXT_ID_ATTR = 'data-dnd-context-id';\r\nconst DROPPABLE_ID_ATTR = 'data-dnd-droppable-id';\r\nconst DRAGGABLE_ID_ATTR = 'data-dnd-draggable-id';\r\n\r\nfunction setStyles(node: HTMLElement, style: Record<string, string | number>) {\r\n  const namesMap = {\r\n    zIndex: 'z-index',\r\n    transformOrigin: 'transform-origin',\r\n  };\r\n  const keys = Object.keys(style);\r\n\r\n  for (const key of keys) {\r\n    const propertyName = namesMap[key] || key;\r\n    const value = `${style[key]}`;\r\n\r\n    node.style.setProperty(propertyName, value);\r\n  }\r\n}\r\n\r\nfunction removeStyles(node: HTMLElement, keys: Array<string>) {\r\n  for (const key of keys) {\r\n    if (node.style.getPropertyValue(key)) {\r\n      node.style.removeProperty(key);\r\n    }\r\n  }\r\n\r\n  removeStyleAttrIfEmpty(node);\r\n}\r\n\r\nfunction getItemNodes(contextID: ID, droppableID: ID): Array<HTMLElement> {\r\n  return Array.from(\r\n    document.querySelectorAll(\r\n      `[${CONTEXT_ID_ATTR}=\"${contextID}\"][${DROPPABLE_ID_ATTR}=\"${droppableID}\"][${DRAGGABLE_ID_ATTR}]`,\r\n    ),\r\n  );\r\n}\r\n\r\nfunction detectIsActiveDraggableNode(node: HTMLElement, activeDraggableID: ID) {\r\n  return node.getAttribute(DRAGGABLE_ID_ATTR) === `${activeDraggableID}`;\r\n}\r\n\r\nfunction getActiveDraggableNode(contextID: number, activeDraggableID: ID): HTMLElement {\r\n  return document.querySelector(`[${CONTEXT_ID_ATTR}=\"${contextID}\"][${DRAGGABLE_ID_ATTR}=\"${activeDraggableID}\"]`);\r\n}\r\n\r\nfunction getActiveDroppableNode(contextID: number, activeDroppableID: ID): HTMLElement {\r\n  return document.querySelector(`[${CONTEXT_ID_ATTR}=\"${contextID}\"][${DROPPABLE_ID_ATTR}=\"${activeDroppableID}\"]`);\r\n}\r\n\r\nfunction getScrollContainer(node: HTMLElement): HTMLElement {\r\n  let style = getComputedStyle(node);\r\n  const excludeStaticParent = style.position === 'absolute';\r\n  const overflowRegex = /(auto|scroll)/;\r\n\r\n  if (style.position === 'fixed') return document.body;\r\n\r\n  for (let parent = node; (parent = parent.parentElement); ) {\r\n    style = getComputedStyle(parent);\r\n\r\n    if (excludeStaticParent && style.position === 'static') {\r\n      continue;\r\n    }\r\n\r\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) return parent;\r\n  }\r\n\r\n  return document.body;\r\n}\r\n\r\nfunction getScrollContainerFromContainer(node: HTMLElement): HTMLElement {\r\n  const style = getComputedStyle(node);\r\n  const overflowRegex = /(auto|scroll)/;\r\n\r\n  if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\r\n    return node;\r\n  }\r\n\r\n  return getScrollContainer(node);\r\n}\r\n\r\nfunction getNodeSize(node: HTMLElement, rect: DOMRect) {\r\n  const style = window.getComputedStyle(node);\r\n  const marginTop = parseInt(style.marginTop, 10);\r\n  const marginBottom = parseInt(style.marginBottom, 10);\r\n  const marginRight = parseInt(style.marginRight, 10);\r\n  const marginLeft = parseInt(style.marginLeft, 10);\r\n  const nodeWidth = safeNumber(rect.width + marginLeft + marginRight);\r\n  const nodeHeight = safeNumber(rect.height + marginTop + marginBottom);\r\n\r\n  return {\r\n    nodeWidth,\r\n    nodeHeight,\r\n  };\r\n}\r\n\r\nfunction safeNumber(value: number, precision = 0) {\r\n  return Number(value.toFixed(precision));\r\n}\r\n\r\nfunction getThreshold(rect: DOMRect, pointer: Pointer) {\r\n  const { top, left } = rect;\r\n  const thresholdY = top > 0 ? top : pointer.clientY < window.innerHeight / 2 ? 0 : window.innerHeight;\r\n  const thresholdX = left > 0 ? left : pointer.clientX < window.innerWidth / 2 ? 0 : window.innerWidth;\r\n\r\n  return {\r\n    thresholdY: safeNumber(thresholdY),\r\n    thresholdX: safeNumber(thresholdX),\r\n  };\r\n}\r\n\r\nfunction blockScroll(node: HTMLElement) {\r\n  const overflowValue = node.style.getPropertyValue('overflow');\r\n\r\n  node.style.setProperty('overflow', 'hidden');\r\n\r\n  return () => {\r\n    if (overflowValue) {\r\n      node.style.setProperty('overflow', overflowValue);\r\n    } else {\r\n      node.style.removeProperty('overflow');\r\n    }\r\n\r\n    removeStyleAttrIfEmpty(node);\r\n  };\r\n}\r\n\r\nfunction removeStyleAttrIfEmpty(node: HTMLElement) {\r\n  if (!node.getAttribute('style')) {\r\n    node.removeAttribute('style');\r\n  }\r\n}\r\n\r\nfunction createBooleanMap<T = any>(items: Array<T> = [], getID: (item: T) => number | string): Record<string, boolean> {\r\n  return items.reduce((acc, x) => ((acc[getID(x)] = true), acc), {});\r\n}\r\n\r\nfunction debounce<T extends (...args) => void>(fn: T, timeout = 0): T {\r\n  let timerID = null;\r\n  const debounced: any = (...args) => {\r\n    timerID && clearTimeout(timerID);\r\n    timerID = setTimeout(() => {\r\n      fn(...args);\r\n    }, timeout);\r\n  };\r\n\r\n  return debounced;\r\n}\r\n\r\nfunction createPointer(e: MouseEvent | TouchEvent) {\r\n  const pointer: Pointer =\r\n    e instanceof MouseEvent\r\n      ? { clientX: e.clientX, clientY: e.clientY }\r\n      : e instanceof TouchEvent\r\n      ? { clientX: e.touches[0].clientX, clientY: e.touches[0].clientY }\r\n      : null;\r\n\r\n  return pointer;\r\n}\r\n\r\nexport {\r\n  CONTEXT_ID_ATTR,\r\n  DROPPABLE_ID_ATTR,\r\n  DRAGGABLE_ID_ATTR,\r\n  setStyles,\r\n  removeStyles,\r\n  getItemNodes,\r\n  detectIsActiveDraggableNode,\r\n  getActiveDraggableNode,\r\n  getActiveDroppableNode,\r\n  getScrollContainer,\r\n  getScrollContainerFromContainer,\r\n  getNodeSize,\r\n  safeNumber,\r\n  getThreshold,\r\n  blockScroll,\r\n  createBooleanMap,\r\n  debounce,\r\n  createPointer,\r\n};\r\n","import React, { useRef, useLayoutEffect, useEffect, memo, useMemo, createContext, useContext } from 'react';\r\n\r\nimport { useDragDropContext } from './context';\r\nimport {\r\n  CONTEXT_ID_ATTR,\r\n  DROPPABLE_ID_ATTR,\r\n  setStyles,\r\n  removeStyles,\r\n  getItemNodes,\r\n  detectIsActiveDraggableNode,\r\n  getActiveDraggableNode,\r\n  getActiveDroppableNode,\r\n  getScrollContainerFromContainer,\r\n  safeNumber,\r\n  getThreshold,\r\n  debounce,\r\n  createPointer,\r\n} from './utils';\r\nimport type { ID, Direction, Pointer } from './types';\r\n\r\nexport type DroppableProps = {\r\n  direction: Direction;\r\n  droppableID: ID;\r\n  droppableGroupID: ID;\r\n  transitionTimeout?: number;\r\n  transitionTimingFn?: string;\r\n  disabled?: boolean;\r\n  debounceTimeout?: number;\r\n  children: (options: DroppableChildrenOptions) => React.ReactElement;\r\n  onDragOver?: (options: OnDragOverOptions) => void;\r\n};\r\n\r\nconst Droppable: React.FC<DroppableProps> = memo(props => {\r\n  const {\r\n    droppableID,\r\n    droppableGroupID,\r\n    direction,\r\n    transitionTimeout,\r\n    transitionTimingFn,\r\n    debounceTimeout,\r\n    disabled,\r\n    children,\r\n    onDragOver,\r\n  } = props;\r\n  const { state, mergeState, resetState, onDragEnd } = useDragDropContext();\r\n  const {\r\n    isDragging: isSomeDragging,\r\n    contextID,\r\n    nodeWidth,\r\n    nodeHeight,\r\n    activeDraggableID,\r\n    activeDroppableID,\r\n    activeDroppableGroupID,\r\n    unsubscribers,\r\n    onInsertPlaceholder,\r\n  } = state;\r\n  const isActiveGroup = !disabled && droppableGroupID === activeDroppableGroupID;\r\n  const isActive = isActiveGroup && droppableID === activeDroppableID;\r\n  const isDragging = isSomeDragging && isActive;\r\n  const rootRef = useRef<HTMLElement>(null);\r\n  const nearestNodeRef = useRef<HTMLElement>(null);\r\n  const scope = useMemo<DroppableScope>(() => ({ removePlaceholder: () => {} }), []);\r\n  const nodes = useMemo(() => (rootRef.current ? getItemNodes(contextID, droppableID) : []), [isDragging]);\r\n\r\n  const handleDragEnd = (targetNode: HTMLElement) => {\r\n    const sourceIdx = nodes.findIndex(x => detectIsActiveDraggableNode(x, activeDraggableID));\r\n    const targetRect = targetNode.getBoundingClientRect();\r\n    const isMoving = sourceIdx === -1;\r\n    let destinationIdx = 0;\r\n\r\n    for (const node of nodes) {\r\n      const rect = node.getBoundingClientRect();\r\n      const map: Record<DroppableProps['direction'], () => void> = {\r\n        vertical: () => {\r\n          if (safeNumber(targetRect.top + targetRect.height) > safeNumber(rect.top + rect.height)) {\r\n            destinationIdx++;\r\n          }\r\n        },\r\n        horizontal: () => {\r\n          if (safeNumber(targetRect.left + targetRect.width) > safeNumber(rect.left + rect.width)) {\r\n            destinationIdx++;\r\n          }\r\n        },\r\n      };\r\n\r\n      map[direction]();\r\n    }\r\n\r\n    setTimeout(() => {\r\n      scope.removePlaceholder();\r\n      nodes.forEach(x => removeStyles(x, ['transition', 'transform']));\r\n      resetState();\r\n    });\r\n\r\n    onDragEnd({\r\n      draggableID: activeDraggableID,\r\n      droppableID,\r\n      droppableGroupID,\r\n      sourceIdx,\r\n      destinationIdx,\r\n      isMoving,\r\n      targetNode,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDragging) return;\r\n    setTimeout(() => {\r\n      nodes.forEach(x => {\r\n        const isActive = detectIsActiveDraggableNode(x, activeDraggableID);\r\n\r\n        !isActive && removeStyles(x, ['transition', 'transform']);\r\n      });\r\n    });\r\n  }, [isDragging]);\r\n\r\n  useIntersectionEffect({\r\n    contextID,\r\n    activeDraggableID,\r\n    activeDroppableID,\r\n    isActiveGroup,\r\n    isActive,\r\n    isSomeDragging,\r\n    debounceTimeout,\r\n    rootNode: rootRef.current,\r\n    unsubscribers,\r\n    onIntersect: (targetNode, pointer) => {\r\n      mergeState({\r\n        activeDroppableID: droppableID,\r\n        scrollContainer: getScrollContainerFromContainer(rootRef.current),\r\n        onInsertPlaceholder: () => {\r\n          transformNodesByTarget({\r\n            direction,\r\n            targetNode,\r\n            nodeWidth,\r\n            nodeHeight,\r\n            pointer,\r\n            activeDraggableID,\r\n            transitionTimeout,\r\n            transitionTimingFn,\r\n            nodes: getItemNodes(contextID, droppableID),\r\n            onMarkNearestNode: (nearestNode, targetNode) => {\r\n              nearestNodeRef.current = nearestNode || null;\r\n              onDragOver({ nearestNode, targetNode });\r\n            },\r\n          });\r\n        },\r\n      });\r\n    },\r\n  });\r\n\r\n  usePlaceholderEffect({\r\n    isDragging,\r\n    nodeWidth,\r\n    nodeHeight,\r\n    container: rootRef.current,\r\n    scope,\r\n    onInsertPlaceholder,\r\n  });\r\n\r\n  useMoveSensorEffect({\r\n    isDragging,\r\n    unsubscribers,\r\n    transformNodesByTargetOptions: {\r\n      direction,\r\n      nodes,\r\n      activeDraggableID,\r\n      nodeHeight,\r\n      nodeWidth,\r\n      transitionTimeout,\r\n      transitionTimingFn,\r\n      onMarkNearestNode: (nearestNode, targetNode) => {\r\n        nearestNodeRef.current = nearestNode || null;\r\n        onDragOver({ nearestNode, targetNode });\r\n      },\r\n    },\r\n  });\r\n\r\n  useMoveEndSensorEffect({\r\n    direction,\r\n    isDragging,\r\n    contextID,\r\n    activeDraggableID,\r\n    activeDroppableID,\r\n    nearestNodeRef,\r\n    transitionTimeout,\r\n    transitionTimingFn,\r\n    unsubscribers,\r\n    onDragEnd: handleDragEnd,\r\n  });\r\n\r\n  const contextValue = useMemo<DroppableContextValue>(\r\n    () => ({\r\n      direction,\r\n      droppableID,\r\n      droppableGroupID,\r\n      disabled,\r\n    }),\r\n    [direction, droppableID, droppableGroupID, disabled],\r\n  );\r\n\r\n  return (\r\n    <DroppableContext.Provider value={contextValue}>\r\n      {children({\r\n        ref: rootRef,\r\n        [CONTEXT_ID_ATTR]: contextID,\r\n        [DROPPABLE_ID_ATTR]: droppableID,\r\n        snapshot: {\r\n          isDragging,\r\n        },\r\n        onDragStart: defaultHandleDragStart,\r\n      })}\r\n    </DroppableContext.Provider>\r\n  );\r\n});\r\n\r\nDroppable.defaultProps = {\r\n  transitionTimeout: 200,\r\n  transitionTimingFn: 'ease-in-out',\r\n  debounceTimeout: 0,\r\n  onDragOver: () => {},\r\n};\r\n\r\ntype DroppableScope = {\r\n  removePlaceholder: () => void;\r\n};\r\n\r\ntype DroppableContextValue = {} & Pick<DroppableProps, 'direction' | 'droppableID' | 'droppableGroupID' | 'disabled'>;\r\n\r\nconst DroppableContext = createContext<DroppableContextValue>(null);\r\n\r\nfunction useDroppableContext() {\r\n  return useContext(DroppableContext);\r\n}\r\n\r\nconst defaultHandleDragStart = (e: React.MouseEvent) => e.preventDefault();\r\n\r\nexport type DroppableChildrenOptions = {\r\n  ref: React.Ref<any>;\r\n  [CONTEXT_ID_ATTR]: number;\r\n  [DROPPABLE_ID_ATTR]: ID;\r\n  snapshot: {\r\n    isDragging: boolean;\r\n  };\r\n  onDragStart: React.DragEventHandler;\r\n};\r\n\r\nexport type OnDragOverOptions = {\r\n  nearestNode: HTMLElement | null;\r\n  targetNode: HTMLElement;\r\n};\r\n\r\ntype UseIntersectionEffectOptions = {\r\n  isSomeDragging: boolean;\r\n  isActiveGroup: boolean;\r\n  isActive: boolean;\r\n  rootNode: HTMLElement;\r\n  contextID: number;\r\n  activeDroppableID: ID;\r\n  activeDraggableID: ID;\r\n  unsubscribers: Array<() => void>;\r\n  onIntersect: (targetNode: HTMLElement, pointer: Pointer) => void;\r\n} & Required<Pick<DroppableProps, 'debounceTimeout'>>;\r\n\r\nfunction useIntersectionEffect(options: UseIntersectionEffectOptions) {\r\n  const {\r\n    isSomeDragging,\r\n    isActiveGroup,\r\n    isActive,\r\n    rootNode,\r\n    contextID,\r\n    activeDroppableID,\r\n    activeDraggableID,\r\n    debounceTimeout,\r\n    unsubscribers,\r\n    onIntersect,\r\n  } = options;\r\n\r\n  useEffect(() => {\r\n    if (!isSomeDragging) return;\r\n    const handleEvent = debounce((e: MouseEvent | TouchEvent) => {\r\n      if (e.target instanceof Document) return;\r\n      if (!isSomeDragging) return;\r\n      if (!isActiveGroup) return;\r\n      if (isActive) return;\r\n      const draggableNode = getActiveDraggableNode(contextID, activeDraggableID);\r\n      const droppableRect = rootNode.getBoundingClientRect();\r\n      const draggableRect = draggableNode.getBoundingClientRect();\r\n      const draggableRectTop = safeNumber(draggableRect.top);\r\n      const draggableRectLeft = safeNumber(draggableRect.left);\r\n      const droppableRectTop = safeNumber(droppableRect.top);\r\n      const droppableRectLeft = safeNumber(droppableRect.left);\r\n      const droppableRectHeight = safeNumber(droppableRect.height);\r\n      const droppableRectWidth = safeNumber(droppableRect.width);\r\n      const isYaxesIntersected =\r\n        draggableRectTop > droppableRectTop && draggableRectTop < droppableRectTop + droppableRectHeight;\r\n      const isXaxesIntersected =\r\n        draggableRectLeft > droppableRectLeft && draggableRectLeft < droppableRectLeft + droppableRectWidth;\r\n\r\n      if (isYaxesIntersected && isXaxesIntersected) {\r\n        const targetNode = e.target as HTMLElement;\r\n        const pointer = createPointer(e);\r\n\r\n        onIntersect(targetNode, pointer);\r\n      }\r\n    }, debounceTimeout);\r\n\r\n    document.addEventListener('mousemove', handleEvent);\r\n    document.addEventListener('touchmove', handleEvent);\r\n\r\n    const unsubscribe = () => {\r\n      document.removeEventListener('mousemove', handleEvent);\r\n      document.removeEventListener('touchmove', handleEvent);\r\n    };\r\n\r\n    unsubscribers.push(unsubscribe);\r\n\r\n    return () => performUnsubscribers(unsubscribe, unsubscribers);\r\n  }, [isSomeDragging, activeDroppableID, rootNode]);\r\n}\r\n\r\ntype UsePlaceholderEffectOptions = {\r\n  isDragging: boolean;\r\n  nodeWidth: number;\r\n  nodeHeight: number;\r\n  container: HTMLElement;\r\n  scope: DroppableScope;\r\n  onInsertPlaceholder: () => void;\r\n};\r\n\r\nfunction usePlaceholderEffect(options: UsePlaceholderEffectOptions) {\r\n  const { isDragging, nodeWidth, nodeHeight, container, scope, onInsertPlaceholder } = options;\r\n\r\n  useLayoutEffect(() => {\r\n    let placeholder: HTMLDivElement = null;\r\n\r\n    if (isDragging) {\r\n      placeholder = document.createElement('div');\r\n\r\n      scope.removePlaceholder = () => {\r\n        placeholder.parentElement.removeChild(placeholder);\r\n        scope.removePlaceholder = () => {};\r\n      };\r\n\r\n      setStyles(placeholder, {\r\n        width: `${nodeWidth}px`,\r\n        height: `${nodeHeight}px`,\r\n        flex: `0 0 auto`,\r\n      });\r\n\r\n      container.appendChild(placeholder);\r\n      onInsertPlaceholder();\r\n    }\r\n\r\n    return () => scope.removePlaceholder();\r\n  }, [isDragging]);\r\n}\r\n\r\ntype UseMoveSensorEffectOptions = {\r\n  isDragging: boolean;\r\n  unsubscribers: Array<() => void>;\r\n  transformNodesByTargetOptions: Omit<TransformNodesByTargetOptions, 'targetNode' | 'pointer'>;\r\n};\r\n\r\nfunction useMoveSensorEffect(options: UseMoveSensorEffectOptions) {\r\n  const { isDragging, unsubscribers, transformNodesByTargetOptions } = options;\r\n  const scope = useMemo(() => ({ options: null }), []);\r\n\r\n  scope.options = transformNodesByTargetOptions;\r\n\r\n  useLayoutEffect(() => {\r\n    if (!isDragging) return;\r\n\r\n    const handleEvent = debounce((e: MouseEvent | TouchEvent) => {\r\n      if (e.target instanceof Document) return;\r\n      const targetNode = e.target as HTMLElement;\r\n      const pointer = createPointer(e);\r\n\r\n      transformNodesByTarget({\r\n        ...scope.options,\r\n        targetNode,\r\n        pointer,\r\n      });\r\n    });\r\n\r\n    document.addEventListener('mousemove', handleEvent);\r\n    document.addEventListener('touchmove', handleEvent);\r\n\r\n    const unsubscribe = () => {\r\n      document.removeEventListener('mousemove', handleEvent);\r\n      document.removeEventListener('touchmove', handleEvent);\r\n    };\r\n\r\n    unsubscribers.push(unsubscribe);\r\n\r\n    return () => performUnsubscribers(unsubscribe, unsubscribers);\r\n  }, [isDragging]);\r\n}\r\n\r\ntype UseMoveEndSensorEffectOptions = {\r\n  direction: Direction;\r\n  isDragging: boolean;\r\n  contextID: number;\r\n  activeDraggableID: ID;\r\n  activeDroppableID: ID;\r\n  nearestNodeRef: React.MutableRefObject<HTMLElement>;\r\n  unsubscribers: Array<() => void>;\r\n  onDragEnd: (node: HTMLElement) => void;\r\n} & Required<Pick<DroppableProps, 'transitionTimeout' | 'transitionTimingFn'>>;\r\n\r\nfunction useMoveEndSensorEffect(options: UseMoveEndSensorEffectOptions) {\r\n  const {\r\n    direction,\r\n    isDragging,\r\n    contextID,\r\n    activeDraggableID,\r\n    activeDroppableID,\r\n    nearestNodeRef,\r\n    transitionTimeout,\r\n    transitionTimingFn,\r\n    unsubscribers,\r\n    onDragEnd,\r\n  } = options;\r\n\r\n  useLayoutEffect(() => {\r\n    if (!isDragging) return;\r\n\r\n    const handleEvent = () => {\r\n      unsubscribers.forEach(fn => fn());\r\n      unsubscribers.splice(0, unsubscribers.length);\r\n\r\n      const nearestNode = nearestNodeRef.current || null;\r\n      const hasTransform = nearestNode && window.getComputedStyle(nearestNode).transform !== 'none';\r\n\r\n      const applyTransition = () => {\r\n        const targetNode = getActiveDraggableNode(contextID, activeDraggableID);\r\n\r\n        applyTargetNodeTransition({\r\n          direction,\r\n          contextID,\r\n          activeDroppableID,\r\n          targetNode,\r\n          nearestNode,\r\n          transitionTimeout,\r\n          transitionTimingFn,\r\n          onComplete: onDragEnd,\r\n        });\r\n      };\r\n\r\n      if (nearestNode && hasTransform) {\r\n        setTimeout(() => {\r\n          applyTransition();\r\n        }, transitionTimeout);\r\n      } else {\r\n        applyTransition();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mouseup', handleEvent);\r\n    document.addEventListener('touchend', handleEvent);\r\n\r\n    const unsubscribe = () => {\r\n      document.removeEventListener('mouseup', handleEvent);\r\n      document.removeEventListener('touchend', handleEvent);\r\n    };\r\n\r\n    unsubscribers.push(unsubscribe);\r\n\r\n    return () => performUnsubscribers(unsubscribe, unsubscribers);\r\n  }, [isDragging]);\r\n}\r\n\r\ntype ApplyTargetNodeTransitionOptions = {\r\n  direction: Direction;\r\n  contextID: number;\r\n  activeDroppableID: ID;\r\n  targetNode: HTMLElement;\r\n  nearestNode: HTMLElement | null;\r\n  onComplete: (targetNode: HTMLElement) => void;\r\n} & Required<Pick<DroppableProps, 'transitionTimeout' | 'transitionTimingFn'>>;\r\n\r\nconst applyTargetNodeTransition = (options: ApplyTargetNodeTransitionOptions) => {\r\n  const {\r\n    direction,\r\n    contextID,\r\n    activeDroppableID,\r\n    targetNode,\r\n    nearestNode,\r\n    transitionTimeout,\r\n    transitionTimingFn,\r\n    onComplete,\r\n  } = options;\r\n  const targetNodeStyle = window.getComputedStyle(targetNode);\r\n  const hasTransform = targetNodeStyle.transform !== 'none';\r\n  const isVertical = direction === 'vertical';\r\n  const { droppableTop, droppableLeft } = getDroppableContainerOffsets();\r\n\r\n  function getDroppableContainerOffsets() {\r\n    const droppableNode = getActiveDroppableNode(contextID, activeDroppableID);\r\n    const { top, left } = droppableNode.getBoundingClientRect();\r\n    const style = window.getComputedStyle(droppableNode);\r\n    const paddingTop = parseInt(style.paddingTop, 10);\r\n    const paddingLeft = parseInt(style.paddingLeft, 10);\r\n    const droppableTop = safeNumber(top + paddingTop);\r\n    const droppableLeft = safeNumber(left + paddingLeft);\r\n\r\n    return { droppableTop, droppableLeft };\r\n  }\r\n\r\n  const getVerticalDirectionOffset = () => {\r\n    if (nearestNode) {\r\n      const { bottom } = nearestNode.getBoundingClientRect();\r\n      const marginTop = parseInt(targetNodeStyle.marginTop, 10);\r\n\r\n      return safeNumber(bottom + marginTop);\r\n    }\r\n\r\n    return droppableTop;\r\n  };\r\n\r\n  const getHorizontalDirectionOffset = () => {\r\n    if (nearestNode) {\r\n      const { left, width } = nearestNode.getBoundingClientRect();\r\n      const marginLeft = parseInt(targetNodeStyle.marginLeft, 10);\r\n\r\n      return safeNumber(left + width + marginLeft);\r\n    }\r\n\r\n    return droppableTop;\r\n  };\r\n\r\n  const offset = isVertical ? getVerticalDirectionOffset() : getHorizontalDirectionOffset();\r\n\r\n  if (hasTransform) {\r\n    const styles = {\r\n      transition: `transform ${transitionTimeout}ms ${transitionTimingFn}, top ${transitionTimeout}ms ${transitionTimingFn}, left ${transitionTimeout}ms ${transitionTimingFn}`,\r\n      transform: `translate3D(0, 0, 0)`,\r\n      top: undefined,\r\n      left: undefined,\r\n    };\r\n\r\n    if (isVertical) {\r\n      styles.top = `${offset}px`;\r\n      styles.left = `${droppableLeft}px`;\r\n    } else {\r\n      styles.top = `${droppableTop}px`;\r\n      styles.left = `${offset}px`;\r\n    }\r\n\r\n    setStyles(targetNode, styles);\r\n\r\n    setTimeout(() => {\r\n      onComplete(targetNode);\r\n    }, transitionTimeout);\r\n  } else {\r\n    onComplete(targetNode);\r\n  }\r\n};\r\n\r\ntype TransformNodesByTargetOptions = {\r\n  direction: Direction;\r\n  targetNode: HTMLElement;\r\n  pointer: Pointer;\r\n  nodes: Array<HTMLElement>;\r\n  activeDraggableID: ID;\r\n  nodeHeight: number;\r\n  nodeWidth: number;\r\n  onMarkNearestNode?: (nearestNode: HTMLElement, targetNode: HTMLElement) => void;\r\n} & Pick<DroppableProps, 'transitionTimeout' | 'transitionTimingFn'>;\r\n\r\nconst transformNodesByTarget = (options: TransformNodesByTargetOptions) => {\r\n  const {\r\n    direction,\r\n    targetNode,\r\n    pointer,\r\n    nodes,\r\n    activeDraggableID,\r\n    nodeHeight,\r\n    nodeWidth,\r\n    transitionTimeout = 0,\r\n    transitionTimingFn = '',\r\n    onMarkNearestNode = () => {},\r\n  } = options;\r\n  const targetRect = targetNode.getBoundingClientRect();\r\n  let nearestNode: HTMLElement = null;\r\n  let minimalDiff = Infinity;\r\n  const fns: Array<() => void> = [];\r\n\r\n  for (const node of nodes) {\r\n    if (detectIsActiveDraggableNode(node, activeDraggableID)) continue;\r\n    const rect = node.getBoundingClientRect();\r\n    const top = safeNumber(rect.top);\r\n    const left = safeNumber(rect.left);\r\n    const { thresholdY, thresholdX } = getThreshold(targetRect, pointer);\r\n    const map: Record<Direction, () => void> = {\r\n      vertical: () => {\r\n        if (thresholdY <= top || thresholdY - top === 1) {\r\n          setStyles(node, {\r\n            transition: `transform ${transitionTimeout}ms ${transitionTimingFn}`,\r\n            transform: `translate3d(0px, ${nodeHeight}px, 0px)`,\r\n          });\r\n        } else {\r\n          removeStyles(node, ['transform']);\r\n\r\n          const diff = safeNumber(thresholdY - top);\r\n\r\n          if (diff < minimalDiff) {\r\n            minimalDiff = diff;\r\n            nearestNode = node;\r\n          }\r\n        }\r\n      },\r\n      horizontal: () => {\r\n        if (thresholdX <= left || thresholdX - left === 1) {\r\n          setStyles(node, {\r\n            transition: `transform ${transitionTimeout}ms ${transitionTimingFn}`,\r\n            transform: `translate3d(${nodeWidth}px, 0px, 0px)`,\r\n          });\r\n        } else {\r\n          removeStyles(node, ['transform']);\r\n\r\n          const diff = safeNumber(thresholdX - left);\r\n\r\n          if (diff < minimalDiff) {\r\n            minimalDiff = diff;\r\n            nearestNode = node;\r\n          }\r\n        }\r\n      },\r\n    };\r\n\r\n    fns.push(map[direction]);\r\n  }\r\n\r\n  // read first getBoundingClientRect in loop, then change styles to improve performance\r\n  fns.forEach(fn => fn());\r\n\r\n  onMarkNearestNode(nearestNode, targetNode);\r\n};\r\n\r\nfunction performUnsubscribers(unsubscribe: () => void, unsubscribers: Array<() => void>) {\r\n  const idx = unsubscribers.findIndex(x => x === unsubscribe);\r\n\r\n  if (idx !== -1) {\r\n    unsubscribe();\r\n    unsubscribers.splice(idx, 1);\r\n  }\r\n}\r\n\r\nexport { Droppable, useDroppableContext, transformNodesByTarget };\r\n","import React, { useRef, useMemo, useLayoutEffect, memo } from 'react';\r\n\r\nimport { useDragDropContext } from './context';\r\nimport { useDroppableContext, transformNodesByTarget } from './droppable';\r\nimport {\r\n  CONTEXT_ID_ATTR,\r\n  DROPPABLE_ID_ATTR,\r\n  DRAGGABLE_ID_ATTR,\r\n  setStyles,\r\n  removeStyles,\r\n  getScrollContainer,\r\n  getNodeSize,\r\n  blockScroll,\r\n  getItemNodes,\r\n  createPointer,\r\n} from './utils';\r\nimport type { ID, Pointer, Coordinates } from './types';\r\n\r\nexport type DraggableProps = {\r\n  draggableID: ID;\r\n  children: (options: DraggableChildrenOptions) => React.ReactElement;\r\n};\r\n\r\nconst Draggable: React.FC<DraggableProps> = memo(props => {\r\n  const { draggableID, children } = props;\r\n  const { state, mergeState } = useDragDropContext();\r\n  const { droppableID, droppableGroupID, direction, disabled } = useDroppableContext();\r\n  const { contextID, scrollContainer } = state;\r\n  const rootRef = useRef<HTMLDivElement>(null);\r\n  const isActive = state.isDragging && state.activeDraggableID === draggableID;\r\n  const scope = useMemo<DraggableScope>(() => ({ removeSensor: null, scrollContainer: null }), []);\r\n\r\n  scope.scrollContainer = scrollContainer;\r\n\r\n  useLayoutEffect(() => () => scope.removeSensor && scope.removeSensor(), []);\r\n\r\n  const handleMouseDown = (startEvent: React.MouseEvent) => {\r\n    if (disabled || startEvent.buttons !== 1 || state.onComplete) return;\r\n\r\n    const targetNode = rootRef.current;\r\n    const rect = targetNode.getBoundingClientRect();\r\n    const scrollContainer = getScrollContainer(targetNode);\r\n    const { nodeWidth, nodeHeight } = getNodeSize(targetNode, rect);\r\n    const startPointer: Pointer = {\r\n      clientX: startEvent.clientX,\r\n      clientY: startEvent.clientY,\r\n    };\r\n\r\n    const handleMoveEvent = (moveEvent: MouseEvent) => {\r\n      if (moveEvent.target instanceof Document) return;\r\n      const movePointer = createPointer(moveEvent);\r\n\r\n      applyMoveSensor({\r\n        node: targetNode,\r\n        scrollContainer: scope.scrollContainer,\r\n        startPointer,\r\n        movePointer,\r\n      });\r\n    };\r\n\r\n    const removeSensor = () => {\r\n      document.removeEventListener('mousemove', handleMoveEvent);\r\n    };\r\n\r\n    const handleComplete = () => removeNodeStyles(targetNode);\r\n\r\n    const handleInsertPlaceholder = () => {\r\n      transformNodesByTarget({\r\n        direction,\r\n        targetNode,\r\n        nodeWidth,\r\n        nodeHeight,\r\n        pointer: startPointer,\r\n        activeDraggableID: draggableID,\r\n        nodes: getItemNodes(contextID, droppableID),\r\n      });\r\n    };\r\n\r\n    setNodeDragStyles(targetNode, rect);\r\n    mergeState({\r\n      isDragging: true,\r\n      activeDroppableID: droppableID,\r\n      activeDroppableGroupID: droppableGroupID,\r\n      activeDraggableID: draggableID,\r\n      nodeWidth,\r\n      nodeHeight,\r\n      scrollContainer,\r\n      unsubscribers: [removeSensor],\r\n      onComplete: handleComplete,\r\n      onInsertPlaceholder: handleInsertPlaceholder,\r\n    });\r\n\r\n    scope.removeSensor = () => {\r\n      removeSensor();\r\n      scope.removeSensor = null;\r\n    };\r\n    document.addEventListener('mousemove', handleMoveEvent);\r\n  };\r\n\r\n  const handleTouchStart = (startEvent: React.TouchEvent) => {\r\n    if (disabled || state.onComplete) return;\r\n\r\n    const targetNode = rootRef.current;\r\n    const rect = targetNode.getBoundingClientRect();\r\n    const scrollContainer = getScrollContainer(targetNode);\r\n    const { nodeWidth, nodeHeight } = getNodeSize(targetNode, rect);\r\n    const startPointer: Pointer = {\r\n      clientX: startEvent.touches[0].clientX,\r\n      clientY: startEvent.touches[0].clientY,\r\n    };\r\n    const unblockScroll = blockScroll(document.body);\r\n\r\n    const handleEvent = (moveEvent: TouchEvent) => {\r\n      if (moveEvent.target instanceof Document) return;\r\n      const movePointer = createPointer(moveEvent);\r\n\r\n      applyMoveSensor({\r\n        node: targetNode,\r\n        scrollContainer: scope.scrollContainer,\r\n        startPointer,\r\n        movePointer,\r\n      });\r\n    };\r\n\r\n    const removeSensor = () => {\r\n      document.removeEventListener('touchmove', handleEvent);\r\n    };\r\n\r\n    const handleComplete = () => {\r\n      removeNodeStyles(targetNode);\r\n      unblockScroll();\r\n    };\r\n\r\n    const handleInsertPlaceholder = () => {\r\n      transformNodesByTarget({\r\n        direction,\r\n        targetNode,\r\n        nodeWidth,\r\n        nodeHeight,\r\n        pointer: startPointer,\r\n        activeDraggableID: draggableID,\r\n        nodes: getItemNodes(contextID, droppableID),\r\n      });\r\n    };\r\n\r\n    setNodeDragStyles(targetNode, rect);\r\n\r\n    transformNodesByTarget({\r\n      targetNode,\r\n      direction,\r\n      nodeWidth,\r\n      nodeHeight,\r\n      pointer: startPointer,\r\n      activeDraggableID: draggableID,\r\n      nodes: getItemNodes(contextID, droppableID),\r\n    });\r\n\r\n    mergeState({\r\n      isDragging: true,\r\n      activeDroppableID: droppableID,\r\n      activeDroppableGroupID: droppableGroupID,\r\n      activeDraggableID: draggableID,\r\n      nodeWidth,\r\n      nodeHeight,\r\n      scrollContainer,\r\n      unsubscribers: [removeSensor],\r\n      onComplete: handleComplete,\r\n      onInsertPlaceholder: handleInsertPlaceholder,\r\n    });\r\n\r\n    scope.removeSensor = () => {\r\n      removeSensor();\r\n      scope.removeSensor = null;\r\n    };\r\n    document.addEventListener('touchmove', handleEvent);\r\n  };\r\n\r\n  return children({\r\n    rootProps: {\r\n      ref: rootRef,\r\n      draggable: false,\r\n      [CONTEXT_ID_ATTR]: contextID,\r\n      [DROPPABLE_ID_ATTR]: droppableID,\r\n      [DRAGGABLE_ID_ATTR]: draggableID,\r\n    },\r\n    draggableProps: {\r\n      onMouseDown: handleMouseDown,\r\n      onTouchStart: handleTouchStart,\r\n    },\r\n    snapshot: {\r\n      isDragging: isActive,\r\n    },\r\n  });\r\n});\r\n\r\nexport type DraggableChildrenOptions = {\r\n  rootProps: {\r\n    ref: React.Ref<any>;\r\n    draggable: false;\r\n    [CONTEXT_ID_ATTR]: number;\r\n    [DROPPABLE_ID_ATTR]: ID;\r\n    [DRAGGABLE_ID_ATTR]: ID;\r\n  };\r\n  draggableProps: {\r\n    onMouseDown: (e: React.MouseEvent) => void;\r\n    onTouchStart: (e: React.TouchEvent) => void;\r\n  };\r\n  snapshot: {\r\n    isDragging: boolean;\r\n  };\r\n};\r\n\r\ntype DraggableScope = {\r\n  removeSensor: () => void;\r\n  scrollContainer: HTMLElement;\r\n};\r\n\r\ntype ApplyMoveSensorOptions = {\r\n  node: HTMLElement;\r\n  startPointer: Pointer;\r\n  movePointer: Pointer;\r\n  scrollContainer: HTMLElement;\r\n};\r\n\r\nfunction applyMoveSensor(options: ApplyMoveSensorOptions) {\r\n  const { node, startPointer, movePointer, scrollContainer } = options;\r\n  const { x, y } = getCoordinates({ movePointer, startPointer });\r\n\r\n  transformNodePosition(node, { x, y });\r\n\r\n  requestAnimationFrame(() => {\r\n    const isRoot = scrollContainer === document.body;\r\n    const element = isRoot ? window : scrollContainer;\r\n    const velocity = 1000;\r\n\r\n    if (movePointer.clientY > window.innerHeight || movePointer.clientY < 0) {\r\n      const shift = isRoot ? window.scrollY : scrollContainer.scrollTop;\r\n\r\n      element.scroll({\r\n        top: movePointer.clientY > 0 ? movePointer.clientY + shift : movePointer.clientY + shift - velocity,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n\r\n    if (movePointer.clientX > window.innerWidth || movePointer.clientX < 0) {\r\n      const shift = isRoot ? window.scrollX : scrollContainer.scrollLeft;\r\n\r\n      element.scroll({\r\n        left: movePointer.clientX > 0 ? movePointer.clientX + shift : movePointer.clientX + shift - velocity,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\ntype GetCoordinatesOptions = {\r\n  movePointer: Pointer;\r\n  startPointer: Pointer;\r\n};\r\n\r\nfunction getCoordinates(options: GetCoordinatesOptions): Coordinates {\r\n  const { movePointer, startPointer } = options;\r\n  const x = movePointer.clientX - startPointer.clientX;\r\n  const y = movePointer.clientY - startPointer.clientY;\r\n\r\n  return {\r\n    x,\r\n    y,\r\n  };\r\n}\r\n\r\nfunction setNodeDragStyles(node: HTMLElement, rect: DOMRect) {\r\n  const style = window.getComputedStyle(node);\r\n  const marginTop = parseInt(style.marginTop);\r\n  const marginLeft = parseInt(style.marginLeft);\r\n  const top = rect.top - marginTop;\r\n  const left = rect.left - marginLeft;\r\n\r\n  setStyles(node, {\r\n    position: 'fixed',\r\n    zIndex: '100000',\r\n    top: `${top}px`,\r\n    left: `${left}px`,\r\n    width: `${rect.width}px`,\r\n    height: `${rect.height}px`,\r\n    transformOrigin: '0 0',\r\n    transition: 'none',\r\n  });\r\n}\r\n\r\nfunction transformNodePosition(node: HTMLElement, { x, y }: Coordinates) {\r\n  setStyles(node, {\r\n    transform: `translate3D(${x}px, ${y}px, 0px)`,\r\n  });\r\n}\r\n\r\nfunction removeNodeStyles(node: HTMLElement) {\r\n  removeStyles(node, [\r\n    'position',\r\n    'top',\r\n    'left',\r\n    'z-index',\r\n    'width',\r\n    'height',\r\n    'transform',\r\n    'transition',\r\n    'transform-origin',\r\n  ]);\r\n}\r\n\r\nexport { Draggable };\r\n","import { type OnDragEndOptions } from './context';\r\nimport { createBooleanMap } from './utils';\r\nimport type { ID } from './types';\r\n\r\ntype ReorderOptions<T> = {\r\n  items: Array<T>;\r\n  getDroppableID: (x: T) => ID;\r\n  getDraggableID: (x: T) => ID;\r\n} & OnDragEndOptions;\r\n\r\nfunction reorder<T>(options: ReorderOptions<T>) {\r\n  const { items, sourceIdx, destinationIdx, droppableID, getDroppableID, getDraggableID } = options;\r\n  const droppableItems = items.filter(x => getDroppableID(x) === droppableID);\r\n  const idsMap = createBooleanMap(droppableItems, x => getDraggableID(x));\r\n  const [removed] = droppableItems.splice(sourceIdx, 1);\r\n\r\n  droppableItems.splice(destinationIdx, 0, removed);\r\n\r\n  const result = [...items.filter(x => !idsMap[getDraggableID(x)]), ...droppableItems];\r\n\r\n  return result;\r\n}\r\n\r\ntype MoveOptions<T> = {\r\n  items: Array<T>;\r\n  getDroppableID: (x: T) => ID;\r\n  setDroppableID: (x: T, droppableID: ID) => void;\r\n  getDraggableID: (x: T) => ID;\r\n} & OnDragEndOptions;\r\n\r\nfunction move<T>(options: MoveOptions<T>) {\r\n  const { items, destinationIdx, droppableID, draggableID, getDroppableID, getDraggableID, setDroppableID } = options;\r\n  const droppableItems = items.filter(x => getDroppableID(x) === droppableID);\r\n  const idsMap = createBooleanMap(droppableItems, x => getDraggableID(x));\r\n  const idx = items.findIndex(x => getDraggableID(x) === draggableID);\r\n  const item = items[idx];\r\n\r\n  setDroppableID(item, droppableID);\r\n  items.splice(idx, 1);\r\n  droppableItems.splice(destinationIdx, 0, item);\r\n\r\n  const result = [...items.filter(x => !idsMap[getDraggableID(x)]), ...droppableItems];\r\n\r\n  return result;\r\n}\r\n\r\nexport { reorder, move };\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","DragDropContext","props","children","onDragEnd","contextID","useMemo","nextContextID","useReducer","reducer","inititalState","state","dispatch","mergeState","resetState","onComplete","isDragging","activeDroppableID","activeDraggableID","nodeWidth","nodeHeight","scrollContainer","unsubscribers","onInsertPlaceholder","Context","Provider","createContext","activeDroppableGroupID","action","useDragDropContext","useContext","CONTEXT_ID_ATTR","DROPPABLE_ID_ATTR","DRAGGABLE_ID_ATTR","setStyles","node","style","namesMap","zIndex","transformOrigin","keys","propertyName","setProperty","removeStyles","getPropertyValue","removeProperty","removeStyleAttrIfEmpty","getItemNodes","droppableID","Array","from","document","querySelectorAll","detectIsActiveDraggableNode","getAttribute","getActiveDraggableNode","querySelector","getScrollContainer","getComputedStyle","excludeStaticParent","position","overflowRegex","body","parentElement","test","overflow","overflowY","overflowX","getNodeSize","rect","window","marginTop","parseInt","marginBottom","marginRight","marginLeft","safeNumber","width","height","precision","Number","toFixed","removeAttribute","createBooleanMap","items","getID","reduce","acc","x","debounce","fn","timeout","timerID","clearTimeout","setTimeout","args","createPointer","e","MouseEvent","clientX","clientY","TouchEvent","touches","Droppable","memo","droppableGroupID","direction","transitionTimeout","transitionTimingFn","debounceTimeout","disabled","onDragOver","isSomeDragging","isActiveGroup","isActive","rootRef","useRef","nearestNodeRef","scope","removePlaceholder","nodes","current","useEffect","forEach","options","rootNode","onIntersect","handleEvent","target","Document","draggableNode","droppableRect","getBoundingClientRect","draggableRect","draggableRectTop","top","draggableRectLeft","left","droppableRectTop","droppableRectLeft","droppableRectHeight","droppableRectWidth","targetNode","pointer","addEventListener","unsubscribe","removeEventListener","push","performUnsubscribers","useIntersectionEffect","transformNodesByTarget","onMarkNearestNode","nearestNode","container","useLayoutEffect","placeholder","createElement","removeChild","flex","appendChild","usePlaceholderEffect","transformNodesByTargetOptions","useMoveSensorEffect","splice","length","hasTransform","transform","applyTransition","applyTargetNodeTransition","useMoveEndSensorEffect","sourceIdx","findIndex","targetRect","isMoving","destinationIdx","vertical","horizontal","draggableID","contextValue","DroppableContext","ref","snapshot","onDragStart","defaultHandleDragStart","defaultProps","preventDefault","targetNodeStyle","isVertical","droppableNode","getActiveDroppableNode","paddingTop","paddingLeft","droppableTop","droppableLeft","getDroppableContainerOffsets","offset","getHorizontalDirectionOffset","styles","transition","minimalDiff","Infinity","fns","thresholdY","innerHeight","thresholdX","innerWidth","getThreshold","map","diff","idx","Draggable","removeSensor","rootProps","draggable","draggableProps","onMouseDown","startEvent","buttons","startPointer","handleMoveEvent","moveEvent","movePointer","applyMoveSensor","setNodeDragStyles","removeNodeStyles","onTouchStart","overflowValue","unblockScroll","y","getCoordinates","transformNodePosition","requestAnimationFrame","isRoot","element","shift","scrollY","scrollTop","scroll","behavior","scrollX","scrollLeft","reorder","getDroppableID","getDraggableID","droppableItems","filter","idsMap","removed","move","setDroppableID","item"],"sourceRoot":""}