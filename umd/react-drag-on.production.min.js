!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("ReactDragOn",["react"],t):"object"==typeof exports?exports.ReactDragOn=t(require("react")):e.ReactDragOn=t(e.React)}(self,(e=>(()=>{"use strict";var t={787:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{DragDropContext:()=>i,Draggable:()=>A,Droppable:()=>L,move:()=>p,reorder:()=>v,transformNodesByTarget:()=>H,useDragDropContext:()=>s,useDroppableContext:()=>T});var e=r(787),t=r.n(e),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},i=function(n){var r=n.children,o=n.onDragEnd,i=(0,e.useMemo)((function(){return++l}),[]),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}((0,e.useReducer)(u,c),2),d=s[0],f=s[1],g=function(e){return f({value:e})},v=function(){d.unsubscribers.forEach((function(e){return e()})),g({isDragging:!1,activeDroppableID:null,activeDraggableID:null,nodeWidth:null,nodeHeight:null,scrollContainer:null,unsubscribers:[],onInsertPlaceholder:null})},p=(0,e.useMemo)((function(){return d.contextID=i,{state:d,mergeState:g,resetState:v,onDragEnd:o}}),[d,o]);return t().createElement(a.Provider,{value:p},r)},a=(0,e.createContext)(null),c={isDragging:!1,contextID:null,activeDroppableID:null,activeDroppableGroupID:null,activeDraggableID:null,nodeWidth:null,nodeHeight:null,scrollContainer:null,unsubscribers:[],onInsertPlaceholder:null},l=0;function u(e,t){return n(n({},e),t.value)}function s(){return(0,e.useContext)(a)}var d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function g(e,t){return void 0===e&&(e=[]),e.reduce((function(e,n){return e[t(n)]=!0,e}),{})}function v(e){var t=e.items,n=e.sourceIdx,r=e.destinationIdx,o=e.droppableID,i=e.getDroppableID,a=e.getDraggableID,c=t.filter((function(e){return i(e)===o})),l=g(c,(function(e){return a(e)})),u=d(c.splice(n,1),1)[0];return c.splice(r,0,u),f(f([],d(t.filter((function(e){return!l[a(e)]}))),!1),d(c),!1)}function p(e){var t=e.items,n=e.destinationIdx,r=e.droppableID,o=e.draggableID,i=e.getDroppableID,a=e.getDraggableID,c=e.setDroppableID,l=t.filter((function(e){return i(e)===r})),u=g(l,(function(e){return a(e)})),s=t.findIndex((function(e){return a(e)===o})),v=t[s];return c(v,r),t.splice(s,1),l.splice(n,0,v),f(f([],d(t.filter((function(e){return!u[a(e)]}))),!1),d(l),!1)}var h=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},m="data-dnd-context-id",b="data-dnd-droppable-id",y="data-dnd-draggable-id";function D(e,t){var n,r,o={zIndex:"z-index",transformOrigin:"transform-origin"},i=Object.keys(t);try{for(var a=h(i),c=a.next();!c.done;c=a.next()){var l=c.value,u=o[l]||l,s="".concat(t[l]);e.style.setProperty(u,s)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function I(e,t){var n,r;try{for(var o=h(t),i=o.next();!i.done;i=o.next()){var a=i.value;e.style.getPropertyValue(a)&&e.style.removeProperty(a)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}S(e)}function x(e,t){return Array.from(document.querySelectorAll("[".concat(m,'="').concat(e,'"][').concat(b,'="').concat(t,'"][').concat(y,"]")))}function w(e,t){return e.getAttribute(y)==="".concat(t)}function E(e,t){return document.querySelector("[".concat(m,'="').concat(e,'"][').concat(y,'="').concat(t,'"]'))}function C(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.body}function P(e,t){var n=window.getComputedStyle(e),r=parseInt(n.marginTop),o=parseInt(n.marginBottom),i=parseInt(n.marginRight),a=parseInt(n.marginLeft);return{nodeWidth:t.width+a+i,nodeHeight:t.height+r+o}}function S(e){e.getAttribute("style")||e.removeAttribute("style")}var X=function(){return X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},X.apply(this,arguments)},Y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},L=(0,e.memo)((function(n){var r,o=n.droppableID,i=n.droppableGroupID,a=n.direction,c=n.transitionTimeout,l=void 0===c?200:c,u=n.children,g=n.onDragOver,v=void 0===g?function(){}:g,p=s(),h=p.state,y=p.mergeState,P=p.resetState,S=p.onDragEnd,L=h.isDragging,T=h.contextID,W=h.nodeWidth,j=h.nodeHeight,A=h.activeDraggableID,M=h.activeDroppableID,B=h.activeDroppableGroupID,N=h.onInsertPlaceholder,G=i===B,z=G&&o===M,q=L&&z,_=(0,e.useRef)(null),k=(0,e.useMemo)((function(){return _.current?x(T,o):[]}),[q]);(0,e.useEffect)((function(){q||setTimeout((function(){k.forEach((function(e){I(e,["transition","transform"])}))}))}),[q]),function(t){var n=t.isSomeDragging,r=t.isActiveGroup,o=t.isActive,i=t.rootNode,a=t.contextID,c=t.activeDroppableID,l=t.activeDraggableID,u=t.onIntersect;(0,e.useEffect)((function(){var e=function(){if(n&&r&&!o){var e=i.getBoundingClientRect(),t=E(a,l).getBoundingClientRect(),c=t.top>e.top&&t.top<e.top+e.height,s=t.left>e.left&&t.left<e.left+e.width;c&&s&&u()}};return document.addEventListener("mousemove",e),document.addEventListener("touchmove",e),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e)}}),[n,c,i])}({contextID:T,activeDraggableID:A,activeDroppableID:M,isActiveGroup:G,isActive:z,isSomeDragging:L,rootNode:_.current,onIntersect:function(){var e,t;y({activeDroppableID:o,scrollContainer:(e=_.current,t=getComputedStyle(e),/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)?e:C(e)),onInsertPlaceholder:function(){}})}}),function(t){var n=t.isDragging,r=t.nodeWidth,o=t.nodeHeight,i=t.container,a=t.onInsertPlaceholder;(0,e.useLayoutEffect)((function(){var e=null;return n&&(D(e=document.createElement("div"),{width:"".concat(r,"px"),height:"".concat(o,"px"),flex:"0 0 auto"}),i.appendChild(e),a()),function(){return e&&i.removeChild(e)}}),[n])}({isDragging:q,nodeWidth:W,nodeHeight:j,container:_.current,onInsertPlaceholder:N}),function(t){var n=t.isDragging,r=t.transformNodesByTargetOptions;(0,e.useLayoutEffect)((function(){if(n){var e=function(e,t){void 0===t&&(t=0);var n=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,f([],d(r),!1))}),t)}}((function(e){var t=e.target,n=e instanceof MouseEvent?{clientX:e.clientX,clientY:e.clientY}:e instanceof TouchEvent?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:null;H(X(X({},r),{target:t,pointer:n}))}));return document.addEventListener("mousemove",e),document.addEventListener("touchmove",e),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",e)}}}),[n])}({isDragging:q,transformNodesByTargetOptions:{direction:a,nodes:k,activeDraggableID:A,nodeHeight:j,nodeWidth:W,transitionTimeout:l,onMarkNearestNode:function(e,t,n){v({nearestNode:e,nearestNodeRect:t,targetRect:n})}}}),function(t){var n=t.isDragging,r=t.onDragEnd;(0,e.useLayoutEffect)((function(){if(n){var e=function(){return r()};return document.addEventListener("mouseup",e),document.addEventListener("touchend",e),function(){document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}}}),[n])}({isDragging:q,onDragEnd:function(){var e,t,n=k.findIndex((function(e){return w(e,A)})),r=E(T,A).getBoundingClientRect(),c=-1===n,l=0,u=function(e){var t=e.getBoundingClientRect(),n={vertical:function(){r.top+r.height>t.top+t.height&&l++},horizontal:function(){r.left+r.width>t.left+t.width&&l++}};I(e,["transition","transform"]),n[a]()};try{for(var s=Y(k),d=s.next();!d.done;d=s.next())u(d.value)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}P(),S({draggableID:A,droppableID:o,droppableGroupID:i,sourceIdx:n,destinationIdx:l,isMoving:c,targetRect:r})}});var V=(0,e.useMemo)((function(){return{direction:a,droppableID:o,droppableGroupID:i}}),[a,o,i]);return t().createElement(O.Provider,{value:V},u(((r={ref:_})[m]=T,r[b]=o,r.snapshot={isDragging:q},r.onDragStart=R,r)))})),O=(0,e.createContext)(null);function T(){return(0,e.useContext)(O)}var R=function(e){return e.preventDefault()},H=function(e){var t,n,r=e.direction,o=e.target,i=e.pointer,a=e.nodes,c=e.activeDraggableID,l=e.nodeHeight,u=e.nodeWidth,s=e.transitionTimeout,d=e.onMarkNearestNode,f=void 0===d?function(){}:d,g=o.getBoundingClientRect(),v=null,p=null,h=1/0,m=function(e){if(w(e,c))return"continue";var t=e.getBoundingClientRect(),n=function(e,t){var n=e.top,r=e.left;return{thresholdY:n>0?n:t.clientY<window.innerHeight/2?0:window.innerHeight,thresholdX:r>0?r:t.clientX<window.innerWidth/2?0:window.innerWidth}}(g,i),o=n.thresholdY,a=n.thresholdX;({vertical:function(){if(o<=t.top)D(e,{transition:"transform ".concat(s,"ms ease-in-out"),transform:"translate3d(0px, ".concat(l,"px, 0px)")});else{I(e,["transform"]);var n=o-t.top;n<h&&(h=n,v=e,p=t)}},horizontal:function(){if(a<=t.left)D(e,{transition:"transform ".concat(s,"ms ease-in-out"),transform:"translate3d(".concat(u,"px, 0px, 0px)")});else{I(e,["transform"]);var n=a-t.left;n<h&&(h=n,v=e,p=t)}}})[r]()};try{for(var b=Y(a),y=b.next();!y.done;y=b.next())m(y.value)}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}f(v,p,g)},W=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},j=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},A=(0,e.memo)((function(t){var n,r=t.draggableID,o=t.children,i=s(),a=i.state,c=i.mergeState,l=T(),u=l.droppableID,d=l.droppableGroupID,f=l.direction,g=a.contextID,v=a.scrollContainer,p=(0,e.useRef)(null),h=a.isDragging&&a.activeDraggableID===r,D=(0,e.useMemo)((function(){return{unsubscribers:[],scrollContainer:null}}),[]);D.scrollContainer=v,(0,e.useLayoutEffect)((function(){return function(){return I()}}),[]);var I=function(){D.unsubscribers.forEach((function(e){return e()})),D.unsubscribers=[]};return o({rootProps:(n={ref:p,draggable:!1},n[m]=g,n[b]=u,n[y]=r,n),draggableProps:{onMouseDown:function(e){var t=p.current,n=t.getBoundingClientRect(),o=C(t),i=P(t,n),l=i.nodeWidth,s=i.nodeHeight,v={clientX:e.clientX,clientY:e.clientY},h=function(e){var n={clientX:e.clientX,clientY:e.clientY};M({node:t,scrollContainer:D.scrollContainer,startPointer:v,movePointer:n})},m=function(){document.removeEventListener("mousemove",h)};B(t,n),c({isDragging:!0,activeDroppableID:u,activeDroppableGroupID:d,activeDraggableID:r,nodeWidth:l,nodeHeight:s,scrollContainer:o,unsubscribers:j(j([],W(a.unsubscribers),!1),[function(){N(t),m()}],!1),onInsertPlaceholder:function(){H({target:t,nodeWidth:l,nodeHeight:s,pointer:v,activeDraggableID:r,transitionTimeout:0,direction:f,nodes:x(g,u)})}}),D.unsubscribers.push(m),document.addEventListener("mousemove",h)},onTouchStart:function(e){var t=p.current,n=t.getBoundingClientRect(),o=C(t),i=P(t,n),l=i.nodeWidth,s=i.nodeHeight,v={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY},h=function(e){var t=e.style.getPropertyValue("overflow");return e.style.setProperty("overflow","hidden"),function(){t?e.style.setProperty("overflow",t):e.style.removeProperty("overflow"),S(e)}}(document.body),m=function(e){var n={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY};M({node:t,scrollContainer:D.scrollContainer,startPointer:v,movePointer:n})},b=function(){document.removeEventListener("touchmove",m),h()};B(t,n),H({target:t,nodeWidth:l,nodeHeight:s,pointer:v,activeDraggableID:r,transitionTimeout:0,direction:f,nodes:x(g,u)}),c({isDragging:!0,activeDroppableID:u,activeDroppableGroupID:d,activeDraggableID:r,nodeWidth:l,nodeHeight:s,scrollContainer:o,unsubscribers:j(j([],W(a.unsubscribers),!1),[function(){N(t),b()}],!1),onInsertPlaceholder:function(){H({target:t,nodeWidth:l,nodeHeight:s,pointer:v,activeDraggableID:r,transitionTimeout:0,direction:f,nodes:x(g,u)})}}),D.unsubscribers.push(b),document.addEventListener("touchmove",m)}},snapshot:{isDragging:h}})}));function M(e){var t=e.node,n=e.startPointer,r=e.movePointer,o=e.scrollContainer,i=function(e){var t=e.movePointer,n=e.startPointer;return{x:t.clientX-n.clientX,y:t.clientY-n.clientY}}({movePointer:r,startPointer:n});!function(e,t){var n=t.y;D(e,{transition:"none",transform:"translate3D(".concat(t.x,"px, ").concat(n,"px, 0px)")})}(t,{x:i.x,y:i.y}),requestAnimationFrame((function(){var e=o===document.body,t=e?window:o;if(r.clientY>window.innerHeight||r.clientY<0){var n=e?window.scrollY:o.scrollTop;t.scroll({top:r.clientY>0?r.clientY+n:r.clientY+n-1e3,behavior:"smooth"})}(r.clientX>window.innerWidth||r.clientX<0)&&(n=e?window.scrollX:o.scrollLeft,t.scroll({left:r.clientX>0?r.clientX+n:r.clientX+n-1e3,behavior:"smooth"}))}))}function B(e,t){var n=window.getComputedStyle(e),r=parseInt(n.marginTop),o=parseInt(n.marginLeft),i=t.top-r,a=t.left-o;D(e,{position:"fixed",zIndex:"100000",top:"".concat(i,"px"),left:"".concat(a,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),transformOrigin:"0 0"})}function N(e){I(e,["position","top","left","z-index","width","height","transform","transform-origin"])}})(),o})()));
//# sourceMappingURL=react-drag-on.production.min.js.map